<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Mega Noticias</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos adicionales si los necesitas */
    </style>
</head>

<body class="bg-slate-100">
    <div class="bg-emerald-300">
        <img src="../static/logo-meganoticias.svg" alt="" class="w-1/5 m-auto pb-2">
    </div>
    <div class="sticky top-0 bg-white z-10 shadow-md">
        <nav class="flex items-center justify-center py-4">
            <ul class="flex space-x-20">
                {% for category in categories %}
                <li>
                    <a href="#{{ category.id }}" class="category-link hover:text-emerald-500">{{ category.nombre_categoria }}</a>
                </li>
                {% endfor %}
            </ul>
        </nav>
    </div>
    <div class="block p-10 z-auto px-10 w-1/2 m-auto mt-10 mb-10 bg-white">
        <ul>
            {% for article in articles %}
            <li id="{{ article.category_id }}" class="article-section flex flex-col bg-zinc-100 p-10 mb-6 rounded">
                <span class="mb-2 text-emerald-500 font-bold">{{ article.categoria }}</span>
                <h2 class="text-3xl font-bold mb-1 w-full md:w-auto">{{ article.title }}</h2>
                <div class="flex justify-between mt-2 mb-3">
                    <span class="font-bold">Por {{ article.nombre_completo }}</span>
                    <ul class="flex flex-row-reverse space-x-4 space-x-reverse pe-4 text-gray-500">
                        Publicado el día {{ article.fecha_creacion }} a las {{ article.hora_creacion }} hrs.
                    </ul>
                </div>
                <div>
                    <p class="my-2">{{ article.information }}</p>
                    {% if article.id_video == Null %}
                    <div class="text-center py-6">
                        <div class="inline-block">
                            <img src="../static/ultimo-minuto.png" alt="fotografia" class="m-auto">
                            <legend class="block text-right text-gray-700 italic mt-1 text-sm">fuente de la fotografía correspondiente</legend>
                        </div>
                    </div>
                    {% endif %}
                    {% if article.id_video != Null %}
                    <div class="relative w-full max-w-full overflow-hidden bg-black mx-auto">
                        <div class="relative" style="padding-bottom: 56.25%;">
                            <iframe class="absolute top-0 left-0 w-full h-full" width="560" height="315"
                                src="https://www.youtube.com/embed/{{ article.id_video }}" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </div>
                    </div>
                    <legend class="block text-right text-gray-700 italic mt-1 text-sm">fuente del video correspondiente</legend>
                    {% endif %}
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>

    <footer class="bg-white rounded-lg shadow m-4 bg-emerald-300">
        <div class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between">
            <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2024 <a href="https://www.meganoticias.cl/"
                    class="hover:underline" target="_blank">Meganoticias</a>. Todos los derechos reservados.</span>
            <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0">
                <li>
                    <a href="https://www.facebook.com/meganoticiascl" target="_blank"><img
                            src="../static/brand-facebook.svg" alt="" class="w-6 ml-4"></a>
                </li>
                <li>
                    <a href="https://www.instagram.com/meganoticiascl/" target="_blank"><img
                            src="../static/instagram.svg" alt="" class="w-6 ml-4"></a>
                </li>
                <li>
                    <a href="https://x.com/meganoticiascl" target="_blank"><img src="../static/brand-x.svg" alt=""
                            class="w-6 ml-4"></a>
                </li>
            </ul>
        </div>
    </footer>

<script>
    document.querySelectorAll('.category-link').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                
            }
        });
    });
</script>

</body>

</html>
